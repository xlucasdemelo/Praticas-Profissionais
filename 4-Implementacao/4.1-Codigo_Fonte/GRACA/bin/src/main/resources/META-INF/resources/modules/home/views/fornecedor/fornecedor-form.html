<!DOCTYPE html>
<html xmlns:ng="http://angularjs.org" 
	xmlns:th="http://www.thymeleaf.org" lang="pt">
	
<div class="main-div" layout="column" flex>
	
		<md-toolbar layout="row" style="z-index: 3;">
	    	<div flex layout="row" class="default-header">
		        <h1 class="md-toolbar-tools">Fornecedor</h1>
	    	</div>
	    	
	    	<div md-theme="default" layout="row" layout-align="end center" class="default-header">
		        <md-button class="md-raised" ng-click="$state.go(FORNECEDOR_LIST_STATE)">Voltar</md-button>
	        </div>
	        
	        <div ng-if="model.fornecedor.entity.ativo == true" md-theme="default" layout="row" layout-align="end center" class="default-header">
		        <md-button class="md-raised md-accent default-save-button" ng-click="changeToRemove()">Excluir</md-button>
	        </div>
	        
	        <div ng-if="model.fornecedor.entity.ativo == false" md-theme="default" layout="row" layout-align="end center" class="default-header">
		        <md-button class="md-raised md-accent default-save-button" ng-click="enableFornecedor()">Ativar registro</md-button>
	        </div>
	        
	        <div md-theme="default" layout="row" layout-align="end center" ng-if="model.fornecedor.entity.ativo || !model.fornecedor.entity.id" class="default-header md-primary md-hue-3">
		        <md-button class="md-raised md-accent default-save-button" ng-click=" model.fornecedor.entity.id ? updateFornecedor() : insertFornecedor()">Salvar</md-button>
	        </div>
	        
	    </md-toolbar>
		
			<md-content layout="column" flex >
				<md-tabs  md-border-bottom flex >
					<md-tab label="Fornecedor" >
						
								<div style="height:100%" class="default-frame" layout="column">
									<md-toolbar layout style="height:100%" class="md-hue-1">
										<form novalidate name="model.fornecedor.form" class="default-form" flex>
											
											<md-input-container layout="column" flex="30" ">
									    		<label>Razão social</label>
								                <input type="text" name="razaoSocial" required ng-model="model.fornecedor.entity.razaoSocial">
								
								                <div ng-messages="model.fornecedor.form.razaoSocial.$error">
								                	<div ng-message="required" ng-if="model.fornecedor.form.$submitted">Campo obrigatório</div>
								                	<div ng-message="md-maxlength" ng-if="model.fornecedor.form.$submitted">Limite de caracteres excedido</div>
								                </div>
								            </md-input-container>
											
											<md-input-container layout="column" flex="30" ">
									    		<label>CNPJ</label>
								                <input type="text" name="cnpj" ng-cnpj required mask="99.999.999/9999-99" ng-model="model.fornecedor.entity.cnpj">
								
								                <div ng-messages="model.fornecedor.form.cnpj.$error">
								                	<div ng-message="required" ng-if="model.fornecedor.form.$submitted">Campo obrigatório</div>
								                	<div ng-message="md-maxlength" ng-if="model.fornecedor.form.$submitted">Limite de caracteres excedido</div>
								                	<div ng-message="cnpj"  ng-if="model.fornecedor.form.$submitted">CNPJ inválido</div>
								                </div>
								            </md-input-container>
								            
								            <md-input-container layout="column" flex="30" ">
									    		<label>Telefone</label>
								                <input type="text" mask="(999) 9999-9999" name="telefone" required ng-model="model.fornecedor.entity.telefone">
								
								                <div ng-messages="model.fornecedor.form.telefone.$error">
								                	<div ng-message="required" ng-if="model.fornecedor.form.$submitted">Campo obrigatório</div>
								                	<div ng-message="md-maxlength" ng-if="model.fornecedor.form.$submitted">Limite de caracteres excedido</div>
								                </div>
								            </md-input-container>
								            
								            <md-input-container layout="column" flex="30" ">
									    		<label>Nome do responsável</label>
								                <input  maxlength="255" md-maxlength="255" name="nomeResponsavel" required ng-model="model.fornecedor.entity.responsavel.nome">
								
								                <div ng-messages="model.fornecedor.form.nomeResponsavel.$error">
								                	<div ng-message="required" ng-if="model.fornecedor.form.$submitted">Campo obrigatório</div>
								                </div>
								            </md-input-container>
								            
								            <md-input-container layout="column" flex="30">
									    		<label>Número do cpf</label>
								                <input type="text" maxlength="14" name="responsavelCpf" mask="999.999.999-99" ng-model="model.fornecedor.entity.responsavel.cpf" ng-cpf>
								            	
								            	<div ng-messages="model.fornecedor.form.nomeResponsavel.$error">
								               		<div ng-message="cpf"  ng-if="model.fornecedor.form.$submitted">CPF inválido</div>
								                </div>
								            	
								            </md-input-container>
								            
										</form>
									</md-toolbar>
								</div>
						
					</md-tab>
					
				</md-tabs>
			</md-content>
	</div>
</html>