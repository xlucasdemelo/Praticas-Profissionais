<!DOCTYPE html>
<html xmlns:ng="http://angularjs.org" 
	xmlns:th="http://www.thymeleaf.org" lang="pt">
	
	<div class="main-div" layout="column" flex>
		<md-toolbar layout="row">
	    	<div layout="row" flex>
		        <h1 class="md-toolbar-tools">Conta</h1>
	    	</div>
	    	
	    	<div layout="row" style="margin-right: 30px;" layout-align="end center">
	    		<md-button class="md-raised" ng-click="$state.go(CONTA_LIST_STATE)">Voltar</md-button>
		        
		        <div ng-if="model.conta.entity.enabled == true" layout="row" layout-align="end center">
			        <md-button class="md-raised md-warn" ng-click="changeToRemove()">Excluir</md-button>
		        </div>
		        
		        <div ng-if="model.conta.entity.enabled == false" layout="row" layout-align="end center">
			        <md-button class="md-raised md-accent" ng-click="enableConta()">Ativar registro</md-button>
		        </div>
		        
		        <div ng-if="model.conta.entity.enabled || !model.conta.entity.id" layout="row" layout-align="end center">
			        <md-button class="md-raised md-accent" ng-click=" model.conta.entity.id ? updateConta() : insertConta()">Salvar</md-button>
		        </div>
	    	</div>
	    </md-toolbar>
	
		<md-content layout="column" flex style="height:100%">
			<md-tabs style="height:100%" md-border-bottom md-selected="model.conta.selectedTab" flex>
				<md-tab style="height:100%" label="Conta">
					<div style="height:100%" class="default-frame" layout="column">
						<md-toolbar layout style="height:100%" class="md-hue-1">
							<form novalidate name="model.conta.form" style="height:100%" class="default-form" flex>
								<div class="default-info" flex> 
									<span>INFORMAÇÕES DA CONTA</span>
								</div>
								
				    			<div layout="row">
					    			<md-input-container layout="column" flex="30" style="margin-right:30px">
							    		<label>Nome</label>
						                <input md-maxlength="255" name="nome" ng-model="model.conta.entity.nome" required>
						
						                <div ng-messages="model.conta.form.nome.$error">
						                	<div ng-message="required" ng-if="model.conta.form.$submitted">Campo Obrigatório</div>
						                	<div ng-message="md-maxlength" ng-if="model.conta.form.$submitted">Limite de caracteres excedido</div>
						                </div>
						            </md-input-container>
						            
						            <md-input-container layout="column" flex="15" style="margin-right:30px">
							    		<label>Saldo</label>
						                <input type="number" min="0" max="999999999999999" name="saldo" ng-model="model.conta.entity.saldo" required>
						
						                <div ng-messages="model.conta.form.saldo.$error">
						                	<div ng-message="required" ng-if="model.conta.form.$submitted">Campo Obrigatório</div>
						                </div>
						            </md-input-container>
				    			</div>
					            
					            <div layout="column">
						            <md-input-container layout="column" flex>
							    		<label>Descrição</label>
							    		<textarea maxlength="255" name="descricao" ng-model="model.conta.entity.descricao" rows="5" required></textarea>
						                
						                <div ng-messages="model.conta.form.descricao.$error">
						               		<div ng-message="required" ng-if="model.conta.form.$submitted">Campo obrigatório</div>
						                </div>
						            </md-input-container>
								</div>
							</form>
						</md-toolbar>
					</div>
				</md-tab>
					
			</md-tabs>
		</md-content>
	</div>
</html>